<Window x:Class="DataverseDebugger.App.Views.EnvironmentPrefetchDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Prepare Environment"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Loaded="OnLoaded"
        MinWidth="540"
        Background="{DynamicResource ThemeBackgroundBrush}">
    <Border Margin="12"
            Background="{DynamicResource ThemeSurfaceBrush}"
            BorderBrush="{DynamicResource ThemeBorderBrush}"
            BorderThickness="1"
            CornerRadius="8"
            Padding="12">
        <StackPanel>
            <TextBlock x:Name="HeaderText"
                       Text="Prepare environment"
                       FontSize="16"
                       FontWeight="SemiBold"
                       Foreground="{DynamicResource ThemeTextPrimaryBrush}"/>
            <TextBlock x:Name="DescriptionText"
                       Margin="0 4 0 12"
                       Text="Download metadata and plugin catalog so the environment is ready before activation."
                       Foreground="{DynamicResource ThemeTextSecondaryBrush}"
                       TextWrapping="Wrap"/>
            <ProgressBar x:Name="ProgressBar"
                         Height="6"
                         IsIndeterminate="True"
                         Visibility="Collapsed"
                         Margin="0 0 0 12"
                         Foreground="{DynamicResource ThemeAccentBrush}"
                         Background="{DynamicResource ThemeSurfaceLightBrush}"/>
            <TextBlock x:Name="StatusText"
                       Foreground="{DynamicResource ThemeTextSecondaryBrush}"
                       Text="Preparing..."
                       TextWrapping="Wrap"/>
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0 16 0 0">
                <Button x:Name="CloseButton"
                        Content="Close"
                        Width="90"
                        Height="28"
                        Style="{DynamicResource ModernToolbarButton}"
                        Visibility="Collapsed"
                        Click="OnCloseClick"/>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
